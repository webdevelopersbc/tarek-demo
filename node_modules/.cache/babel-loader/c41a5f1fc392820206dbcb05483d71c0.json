{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar intl_utils_1 = require(\"@formatjs/intl-utils\");\n\nfunction unpackData(locale, localeData) {\n  var localeHierarchy = intl_utils_1.getLocaleHierarchy(locale, localeData.aliases, localeData.parentLocales);\n  var dataToMerge = localeHierarchy.map(function (l) {\n    return localeData.data[l];\n  }).filter(Boolean);\n\n  if (!dataToMerge.length) {\n    throw new Error(\"Missing locale data for \\\"\" + locale + \"\\\", lookup hierarchy: \" + localeHierarchy.join(', '));\n  }\n\n  dataToMerge.reverse();\n  return dataToMerge.reduce(function (all, d) {\n    return __assign(__assign({}, all), d);\n  }, {\n    nu: []\n  });\n}\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\n\n\nfunction singularRelativeTimeUnit(unit) {\n  intl_utils_1.invariant(typeof unit === 'string', \"unit must be a string, instead got \" + typeof unit, TypeError);\n  if (unit === 'seconds') return 'second';\n  if (unit === 'minutes') return 'minute';\n  if (unit === 'hours') return 'hour';\n  if (unit === 'days') return 'day';\n  if (unit === 'weeks') return 'week';\n  if (unit === 'months') return 'month';\n  if (unit === 'quarters') return 'quarter';\n  if (unit === 'years') return 'year';\n\n  if (unit !== 'second' && unit !== 'minute' && unit !== 'hour' && unit !== 'day' && unit !== 'week' && unit !== 'month' && unit !== 'quarter' && unit !== 'year') {\n    throw new RangeError(\"Invalid unit \" + unit);\n  }\n\n  return unit;\n}\n\nvar NUMBERING_SYSTEM_REGEX = /[a-z0-9]{3,8}(-[a-z0-9]{3,8})*/gi;\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-makepartslist\n * @param pattern\n * @param unit\n * @param parts\n */\n\nfunction makePartsList(pattern, unit, parts) {\n  var e_1, _a;\n\n  var result = [];\n  var beginIndex = pattern.indexOf('{');\n  var length = pattern.length;\n  var endIndex = 0;\n  var nextIndex = 0;\n\n  while (beginIndex > -1 && beginIndex < length) {\n    endIndex = pattern.indexOf('}', beginIndex);\n    intl_utils_1.invariant(endIndex !== -1, \"} not found in \" + pattern);\n\n    if (beginIndex > nextIndex) {\n      result.push({\n        type: 'literal',\n        value: pattern.substring(nextIndex, beginIndex)\n      });\n    }\n\n    var p = pattern.substring(beginIndex + 1, endIndex);\n    intl_utils_1.invariant(p === '0', \"Malformed pattern \" + pattern);\n\n    try {\n      for (var parts_1 = (e_1 = void 0, __values(parts)), parts_1_1 = parts_1.next(); !parts_1_1.done; parts_1_1 = parts_1.next()) {\n        var part = parts_1_1.value;\n        result.push({\n          type: part.type,\n          value: part.value,\n          unit: unit\n        });\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (parts_1_1 && !parts_1_1.done && (_a = parts_1.return)) _a.call(parts_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    nextIndex = endIndex;\n    beginIndex = pattern.indexOf('{', nextIndex);\n  }\n\n  if (nextIndex < length) {\n    result.push({\n      type: 'literal',\n      value: pattern.substring(nextIndex + 1)\n    });\n  }\n\n  return result;\n}\n\nfunction objectIs(x, y) {\n  if (Object.is) {\n    return Object.is(x, y);\n  } // SameValue algorithm\n\n\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } // Step 6.a: NaN == NaN\n\n\n  return x !== x && y !== y;\n}\n\nfunction toString(arg) {\n  return arg + '';\n}\n/**\n * PartitionRelativeTimePattern\n * @param rtf\n * @param value\n * @param unit\n */\n\n\nfunction partitionRelativeTimePattern(internalSlotMap, rtf, value, unit) {\n  intl_utils_1.invariant(typeof value === 'number', \"value must be number, instead got \" + typeof value, TypeError);\n  intl_utils_1.invariant(typeof unit === 'string', \"unit must be number, instead got \" + typeof value, TypeError);\n\n  if (isNaN(value) || value === Infinity || value === -Infinity) {\n    throw new RangeError(\"Invalid value \" + value);\n  }\n\n  var resolvedUnit = singularRelativeTimeUnit(unit);\n  var fields = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'fields');\n  var style = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'style');\n  var entry = resolvedUnit;\n\n  if (style === 'short') {\n    entry = unit + \"-short\";\n  } else if (style === 'narrow') {\n    entry = unit + \"-narrow\";\n  }\n\n  if (!(entry in fields)) {\n    entry = unit;\n  }\n\n  var patterns = fields[entry];\n  var numeric = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'numeric');\n\n  if (numeric === 'auto') {\n    if (toString(value) in patterns) {\n      return [{\n        type: 'literal',\n        value: patterns[toString(value)]\n      }];\n    }\n  }\n\n  var tl = 'future';\n\n  if (objectIs(value, -0) || value < 0) {\n    tl = 'past';\n  }\n\n  var po = patterns[tl];\n  var pluralRules = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'pluralRules');\n  var numberFormat = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'numberFormat');\n  var fv = typeof numberFormat.formatToParts === 'function' ? numberFormat.formatToParts(Math.abs(value)) : // TODO: If formatToParts is not supported, we assume the whole formatted\n  // number is a part\n  [{\n    type: 'literal',\n    value: numberFormat.format(Math.abs(value)),\n    unit: unit\n  }];\n  var pr = pluralRules.select(value);\n  var pattern = po[pr];\n  return makePartsList(pattern, resolvedUnit, fv);\n}\n\nvar RelativeTimeFormat =\n/** @class */\nfunction () {\n  function RelativeTimeFormat(locales, options) {\n    // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n    // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n    var newTarget = this && this instanceof RelativeTimeFormat ? this.constructor : void 0;\n\n    if (!newTarget) {\n      throw new TypeError(\"Intl.RelativeTimeFormat must be called with 'new'\");\n    }\n\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat', true);\n    var requestedLocales = intl_utils_1.getCanonicalLocales(locales);\n    var opt = Object.create(null);\n    var opts = options === undefined ? Object.create(null) : intl_utils_1.toObject(options);\n    var matcher = intl_utils_1.getOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = intl_utils_1.getOption(opts, 'numberingSystem', 'string', undefined, undefined);\n\n    if (numberingSystem !== undefined) {\n      if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n        throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n      }\n    }\n\n    opt.nu = numberingSystem;\n    var r = intl_utils_1.createResolveLocale(RelativeTimeFormat.getDefaultLocale)(RelativeTimeFormat.availableLocales, requestedLocales, opt, RelativeTimeFormat.relevantExtensionKeys, RelativeTimeFormat.localeData);\n    var locale = r.locale,\n        nu = r.nu;\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'locale', locale);\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'style', intl_utils_1.getOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long'));\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numeric', intl_utils_1.getOption(opts, 'numeric', 'string', ['always', 'auto'], 'always'));\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'fields', RelativeTimeFormat.localeData[locale]);\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberFormat', new Intl.NumberFormat(locales));\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'pluralRules', new Intl.PluralRules(locales));\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberingSystem', nu);\n  }\n\n  RelativeTimeFormat.prototype.format = function (value, unit) {\n    if (typeof this !== 'object') {\n      throw new TypeError('format was called on a non-object');\n    }\n\n    if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n      throw new TypeError('format was called on a invalid context');\n    }\n\n    return partitionRelativeTimePattern(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, Number(value), toString(unit)).map(function (el) {\n      return el.value;\n    }).join('');\n  };\n\n  RelativeTimeFormat.prototype.formatToParts = function (value, unit) {\n    if (typeof this !== 'object') {\n      throw new TypeError('formatToParts was called on a non-object');\n    }\n\n    if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n      throw new TypeError('formatToParts was called on a invalid context');\n    }\n\n    return partitionRelativeTimePattern(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, Number(value), toString(unit));\n  };\n\n  RelativeTimeFormat.prototype.resolvedOptions = function () {\n    if (typeof this !== 'object') {\n      throw new TypeError('resolvedOptions was called on a non-object');\n    }\n\n    if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n      throw new TypeError('resolvedOptions was called on a invalid context');\n    } // test262/test/intl402/RelativeTimeFormat/prototype/resolvedOptions/type.js\n\n\n    return {\n      locale: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'locale'),\n      style: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'style'),\n      numeric: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numeric'),\n      numberingSystem: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberingSystem')\n    };\n  };\n\n  RelativeTimeFormat.supportedLocalesOf = function (locales, options) {\n    return intl_utils_1.supportedLocales(RelativeTimeFormat.availableLocales, intl_utils_1.getCanonicalLocales(locales), options);\n  };\n\n  RelativeTimeFormat.__addLocaleData = function () {\n    var e_2, _a;\n\n    var data = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      data[_i] = arguments[_i];\n    }\n\n    var _loop_1 = function (datum) {\n      var availableLocales = Object.keys(__spread(datum.availableLocales, Object.keys(datum.aliases), Object.keys(datum.parentLocales)).reduce(function (all, k) {\n        all[k] = true;\n        return all;\n      }, {}));\n      availableLocales.forEach(function (locale) {\n        try {\n          RelativeTimeFormat.localeData[locale] = unpackData(locale, datum);\n        } catch (e) {// If we can't unpack this data, ignore the locale\n        }\n      });\n    };\n\n    try {\n      for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n        var datum = data_1_1.value;\n\n        _loop_1(datum);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    RelativeTimeFormat.availableLocales = Object.keys(RelativeTimeFormat.localeData);\n\n    if (!RelativeTimeFormat.__defaultLocale) {\n      RelativeTimeFormat.__defaultLocale = RelativeTimeFormat.availableLocales[0];\n    }\n  };\n\n  RelativeTimeFormat.getDefaultLocale = function () {\n    return RelativeTimeFormat.__defaultLocale;\n  };\n\n  RelativeTimeFormat.localeData = {};\n  RelativeTimeFormat.availableLocales = [];\n  RelativeTimeFormat.__defaultLocale = 'en';\n  RelativeTimeFormat.relevantExtensionKeys = ['nu'];\n  RelativeTimeFormat.polyfilled = true;\n  RelativeTimeFormat.__INTERNAL_SLOT_MAP__ = new WeakMap();\n  return RelativeTimeFormat;\n}();\n\nexports.default = RelativeTimeFormat;\n\ntry {\n  // IE11 does not have Symbol\n  if (typeof Symbol !== 'undefined') {\n    Object.defineProperty(RelativeTimeFormat.prototype, Symbol.toStringTag, {\n      value: 'Intl.RelativeTimeFormat',\n      writable: false,\n      enumerable: false,\n      configurable: true\n    });\n  } // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n\n\n  Object.defineProperty(RelativeTimeFormat.prototype.constructor, 'length', {\n    value: 0,\n    writable: false,\n    enumerable: false,\n    configurable: true\n  }); // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n\n  Object.defineProperty(RelativeTimeFormat.supportedLocalesOf, 'length', {\n    value: 1,\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n} catch (e) {// Meta fix so we're test262-compliant, not important\n}","map":{"version":3,"sources":["D:/Amardeep/tarek_project/ftw-product/node_modules/@formatjs/intl-relativetimeformat/dist/core.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__values","o","Symbol","iterator","m","next","value","done","TypeError","__read","r","ar","e","push","error","__spread","concat","defineProperty","exports","intl_utils_1","require","unpackData","locale","localeData","localeHierarchy","getLocaleHierarchy","aliases","parentLocales","dataToMerge","map","l","data","filter","Boolean","Error","join","reverse","reduce","all","d","nu","singularRelativeTimeUnit","unit","invariant","RangeError","NUMBERING_SYSTEM_REGEX","makePartsList","pattern","parts","e_1","_a","result","beginIndex","indexOf","endIndex","nextIndex","type","substring","parts_1","parts_1_1","part","e_1_1","return","objectIs","x","y","is","toString","arg","partitionRelativeTimePattern","internalSlotMap","rtf","isNaN","Infinity","resolvedUnit","fields","getInternalSlot","style","entry","patterns","numeric","tl","po","pluralRules","numberFormat","fv","formatToParts","Math","abs","format","pr","select","RelativeTimeFormat","locales","options","newTarget","constructor","setInternalSlot","__INTERNAL_SLOT_MAP__","requestedLocales","getCanonicalLocales","opt","create","opts","undefined","toObject","matcher","getOption","localeMatcher","numberingSystem","test","createResolveLocale","getDefaultLocale","availableLocales","relevantExtensionKeys","Intl","NumberFormat","PluralRules","Number","el","resolvedOptions","supportedLocalesOf","supportedLocales","__addLocaleData","e_2","_i","_loop_1","datum","keys","k","forEach","data_1","data_1_1","e_2_1","__defaultLocale","polyfilled","WeakMap","default","toStringTag","writable","enumerable","configurable"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar intl_utils_1 = require(\"@formatjs/intl-utils\");\nfunction unpackData(locale, localeData) {\n    var localeHierarchy = intl_utils_1.getLocaleHierarchy(locale, localeData.aliases, localeData.parentLocales);\n    var dataToMerge = localeHierarchy\n        .map(function (l) { return localeData.data[l]; })\n        .filter(Boolean);\n    if (!dataToMerge.length) {\n        throw new Error(\"Missing locale data for \\\"\" + locale + \"\\\", lookup hierarchy: \" + localeHierarchy.join(', '));\n    }\n    dataToMerge.reverse();\n    return dataToMerge.reduce(function (all, d) { return (__assign(__assign({}, all), d)); }, { nu: [] });\n}\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\nfunction singularRelativeTimeUnit(unit) {\n    intl_utils_1.invariant(typeof unit === 'string', \"unit must be a string, instead got \" + typeof unit, TypeError);\n    if (unit === 'seconds')\n        return 'second';\n    if (unit === 'minutes')\n        return 'minute';\n    if (unit === 'hours')\n        return 'hour';\n    if (unit === 'days')\n        return 'day';\n    if (unit === 'weeks')\n        return 'week';\n    if (unit === 'months')\n        return 'month';\n    if (unit === 'quarters')\n        return 'quarter';\n    if (unit === 'years')\n        return 'year';\n    if (unit !== 'second' &&\n        unit !== 'minute' &&\n        unit !== 'hour' &&\n        unit !== 'day' &&\n        unit !== 'week' &&\n        unit !== 'month' &&\n        unit !== 'quarter' &&\n        unit !== 'year') {\n        throw new RangeError(\"Invalid unit \" + unit);\n    }\n    return unit;\n}\nvar NUMBERING_SYSTEM_REGEX = /[a-z0-9]{3,8}(-[a-z0-9]{3,8})*/gi;\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-makepartslist\n * @param pattern\n * @param unit\n * @param parts\n */\nfunction makePartsList(pattern, unit, parts) {\n    var e_1, _a;\n    var result = [];\n    var beginIndex = pattern.indexOf('{');\n    var length = pattern.length;\n    var endIndex = 0;\n    var nextIndex = 0;\n    while (beginIndex > -1 && beginIndex < length) {\n        endIndex = pattern.indexOf('}', beginIndex);\n        intl_utils_1.invariant(endIndex !== -1, \"} not found in \" + pattern);\n        if (beginIndex > nextIndex) {\n            result.push({\n                type: 'literal',\n                value: pattern.substring(nextIndex, beginIndex),\n            });\n        }\n        var p = pattern.substring(beginIndex + 1, endIndex);\n        intl_utils_1.invariant(p === '0', \"Malformed pattern \" + pattern);\n        try {\n            for (var parts_1 = (e_1 = void 0, __values(parts)), parts_1_1 = parts_1.next(); !parts_1_1.done; parts_1_1 = parts_1.next()) {\n                var part = parts_1_1.value;\n                result.push({\n                    type: part.type,\n                    value: part.value,\n                    unit: unit,\n                });\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (parts_1_1 && !parts_1_1.done && (_a = parts_1.return)) _a.call(parts_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        nextIndex = endIndex;\n        beginIndex = pattern.indexOf('{', nextIndex);\n    }\n    if (nextIndex < length) {\n        result.push({\n            type: 'literal',\n            value: pattern.substring(nextIndex + 1),\n        });\n    }\n    return result;\n}\nfunction objectIs(x, y) {\n    if (Object.is) {\n        return Object.is(x, y);\n    }\n    // SameValue algorithm\n    if (x === y) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n    }\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n}\nfunction toString(arg) {\n    return arg + '';\n}\n/**\n * PartitionRelativeTimePattern\n * @param rtf\n * @param value\n * @param unit\n */\nfunction partitionRelativeTimePattern(internalSlotMap, rtf, value, unit) {\n    intl_utils_1.invariant(typeof value === 'number', \"value must be number, instead got \" + typeof value, TypeError);\n    intl_utils_1.invariant(typeof unit === 'string', \"unit must be number, instead got \" + typeof value, TypeError);\n    if (isNaN(value) || value === Infinity || value === -Infinity) {\n        throw new RangeError(\"Invalid value \" + value);\n    }\n    var resolvedUnit = singularRelativeTimeUnit(unit);\n    var fields = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'fields');\n    var style = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'style');\n    var entry = resolvedUnit;\n    if (style === 'short') {\n        entry = unit + \"-short\";\n    }\n    else if (style === 'narrow') {\n        entry = unit + \"-narrow\";\n    }\n    if (!(entry in fields)) {\n        entry = unit;\n    }\n    var patterns = fields[entry];\n    var numeric = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'numeric');\n    if (numeric === 'auto') {\n        if (toString(value) in patterns) {\n            return [\n                {\n                    type: 'literal',\n                    value: patterns[toString(value)],\n                },\n            ];\n        }\n    }\n    var tl = 'future';\n    if (objectIs(value, -0) || value < 0) {\n        tl = 'past';\n    }\n    var po = patterns[tl];\n    var pluralRules = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'pluralRules');\n    var numberFormat = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'numberFormat');\n    var fv = typeof numberFormat.formatToParts === 'function'\n        ? numberFormat.formatToParts(Math.abs(value))\n        : // TODO: If formatToParts is not supported, we assume the whole formatted\n            // number is a part\n            [\n                {\n                    type: 'literal',\n                    value: numberFormat.format(Math.abs(value)),\n                    unit: unit,\n                },\n            ];\n    var pr = pluralRules.select(value);\n    var pattern = po[pr];\n    return makePartsList(pattern, resolvedUnit, fv);\n}\nvar RelativeTimeFormat = /** @class */ (function () {\n    function RelativeTimeFormat(locales, options) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof RelativeTimeFormat ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.RelativeTimeFormat must be called with 'new'\");\n        }\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat', true);\n        var requestedLocales = intl_utils_1.getCanonicalLocales(locales);\n        var opt = Object.create(null);\n        var opts = options === undefined ? Object.create(null) : intl_utils_1.toObject(options);\n        var matcher = intl_utils_1.getOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n        opt.localeMatcher = matcher;\n        var numberingSystem = intl_utils_1.getOption(opts, 'numberingSystem', 'string', undefined, undefined);\n        if (numberingSystem !== undefined) {\n            if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n                throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n            }\n        }\n        opt.nu = numberingSystem;\n        var r = intl_utils_1.createResolveLocale(RelativeTimeFormat.getDefaultLocale)(RelativeTimeFormat.availableLocales, requestedLocales, opt, RelativeTimeFormat.relevantExtensionKeys, RelativeTimeFormat.localeData);\n        var locale = r.locale, nu = r.nu;\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'locale', locale);\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'style', intl_utils_1.getOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long'));\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numeric', intl_utils_1.getOption(opts, 'numeric', 'string', ['always', 'auto'], 'always'));\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'fields', RelativeTimeFormat.localeData[locale]);\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberFormat', new Intl.NumberFormat(locales));\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'pluralRules', new Intl.PluralRules(locales));\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberingSystem', nu);\n    }\n    RelativeTimeFormat.prototype.format = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('format was called on a non-object');\n        }\n        if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n            throw new TypeError('format was called on a invalid context');\n        }\n        return partitionRelativeTimePattern(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, Number(value), toString(unit))\n            .map(function (el) { return el.value; })\n            .join('');\n    };\n    RelativeTimeFormat.prototype.formatToParts = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('formatToParts was called on a non-object');\n        }\n        if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n            throw new TypeError('formatToParts was called on a invalid context');\n        }\n        return partitionRelativeTimePattern(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, Number(value), toString(unit));\n    };\n    RelativeTimeFormat.prototype.resolvedOptions = function () {\n        if (typeof this !== 'object') {\n            throw new TypeError('resolvedOptions was called on a non-object');\n        }\n        if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n            throw new TypeError('resolvedOptions was called on a invalid context');\n        }\n        // test262/test/intl402/RelativeTimeFormat/prototype/resolvedOptions/type.js\n        return {\n            locale: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'locale'),\n            style: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'style'),\n            numeric: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numeric'),\n            numberingSystem: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberingSystem'),\n        };\n    };\n    RelativeTimeFormat.supportedLocalesOf = function (locales, options) {\n        return intl_utils_1.supportedLocales(RelativeTimeFormat.availableLocales, intl_utils_1.getCanonicalLocales(locales), options);\n    };\n    RelativeTimeFormat.__addLocaleData = function () {\n        var e_2, _a;\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        var _loop_1 = function (datum) {\n            var availableLocales = Object.keys(__spread(datum.availableLocales, Object.keys(datum.aliases), Object.keys(datum.parentLocales)).reduce(function (all, k) {\n                all[k] = true;\n                return all;\n            }, {}));\n            availableLocales.forEach(function (locale) {\n                try {\n                    RelativeTimeFormat.localeData[locale] = unpackData(locale, datum);\n                }\n                catch (e) {\n                    // If we can't unpack this data, ignore the locale\n                }\n            });\n        };\n        try {\n            for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n                var datum = data_1_1.value;\n                _loop_1(datum);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        RelativeTimeFormat.availableLocales = Object.keys(RelativeTimeFormat.localeData);\n        if (!RelativeTimeFormat.__defaultLocale) {\n            RelativeTimeFormat.__defaultLocale =\n                RelativeTimeFormat.availableLocales[0];\n        }\n    };\n    RelativeTimeFormat.getDefaultLocale = function () {\n        return RelativeTimeFormat.__defaultLocale;\n    };\n    RelativeTimeFormat.localeData = {};\n    RelativeTimeFormat.availableLocales = [];\n    RelativeTimeFormat.__defaultLocale = 'en';\n    RelativeTimeFormat.relevantExtensionKeys = ['nu'];\n    RelativeTimeFormat.polyfilled = true;\n    RelativeTimeFormat.__INTERNAL_SLOT_MAP__ = new WeakMap();\n    return RelativeTimeFormat;\n}());\nexports.default = RelativeTimeFormat;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(RelativeTimeFormat.prototype, Symbol.toStringTag, {\n            value: 'Intl.RelativeTimeFormat',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n    Object.defineProperty(RelativeTimeFormat.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(RelativeTimeFormat.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (e) {\n    // Meta fix so we're test262-compliant, not important\n}\n"]},"metadata":{},"sourceType":"script"}