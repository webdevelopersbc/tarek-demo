{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amardeep\\\\tarek_project\\\\ftw-product\\\\src\\\\containers\\\\PasswordRecoveryPage\\\\PasswordRecoveryForm\\\\PasswordRecoveryForm.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { Form as FinalForm } from 'react-final-form';\nimport isEqual from 'lodash/isEqual';\nimport classNames from 'classnames';\nimport { FormattedMessage, injectIntl, intlShape } from '../../../util/reactIntl';\nimport { propTypes } from '../../../util/types';\nimport * as validators from '../../../util/validators';\nimport { isPasswordRecoveryEmailNotFoundError } from '../../../util/errors';\nimport { Form, PrimaryButton, FieldTextInput, NamedLink } from '../../../components';\nimport css from './PasswordRecoveryForm.module.css';\n\nclass PasswordRecoveryFormComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.submittedValues = {};\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(FinalForm, Object.assign({}, this.props, {\n      render: fieldRenderProps => {\n        const {\n          rootClassName,\n          className,\n          formId,\n          handleSubmit,\n          pristine,\n          initialValues,\n          intl,\n          inProgress,\n          recoveryError,\n          values\n        } = fieldRenderProps; // email\n\n        const emailLabel = intl.formatMessage({\n          id: 'PasswordRecoveryForm.emailLabel'\n        });\n        const emailPlaceholder = intl.formatMessage({\n          id: 'PasswordRecoveryForm.emailPlaceholder'\n        });\n        const emailRequiredMessage = intl.formatMessage({\n          id: 'PasswordRecoveryForm.emailRequired'\n        });\n        const emailNotFoundMessage = intl.formatMessage({\n          id: 'PasswordRecoveryForm.emailNotFound'\n        });\n        const emailInvalidMessage = intl.formatMessage({\n          id: 'PasswordRecoveryForm.emailInvalid'\n        });\n        const emailRequired = validators.required(emailRequiredMessage);\n        const emailValid = validators.emailFormatValid(emailInvalidMessage); // In case a given email is not found, pass a custom error message\n        // to be rendered with the input component\n\n        const customErrorText = isPasswordRecoveryEmailNotFoundError(recoveryError) ? emailNotFoundMessage : null;\n        const initialEmail = initialValues ? initialValues.email : null;\n        const emailTouched = values.email !== this.submittedValues.email;\n        const classes = classNames(rootClassName || css.root, className);\n        const submitInProgress = inProgress;\n        const submittedOnce = Object.keys(this.submittedValues).length > 0;\n        const pristineSinceLastSubmit = submittedOnce && isEqual(values, this.submittedValues);\n        const submitDisabled = pristine && !initialEmail || submitInProgress || pristineSinceLastSubmit;\n        const loginLink = /*#__PURE__*/React.createElement(NamedLink, {\n          name: \"LoginPage\",\n          className: css.modalHelperLink,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"PasswordRecoveryForm.loginLinkText\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }\n        }));\n        return /*#__PURE__*/React.createElement(Form, {\n          className: classes,\n          onSubmit: e => {\n            this.submittedValues = values;\n            handleSubmit(e);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(FieldTextInput, {\n          className: css.email,\n          type: \"email\",\n          id: formId ? `${formId}.email` : 'email',\n          name: \"email\",\n          autoComplete: \"email\",\n          label: emailLabel,\n          placeholder: emailPlaceholder,\n          validate: validators.composeValidators(emailRequired, emailValid),\n          customErrorText: emailTouched ? null : customErrorText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: css.bottomWrapper,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: css.bottomWrapperText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: css.modalHelperText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"PasswordRecoveryForm.loginLinkInfo\",\n          values: {\n            loginLink\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }\n        }))), /*#__PURE__*/React.createElement(PrimaryButton, {\n          type: \"submit\",\n          inProgress: submitInProgress,\n          disabled: submitDisabled,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"PasswordRecoveryForm.sendInstructions\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 19\n          }\n        }))));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nPasswordRecoveryFormComponent.defaultProps = {\n  rootClassName: null,\n  className: null,\n  formId: null,\n  inProgress: false,\n  recoveryError: null\n};\nconst {\n  bool,\n  string\n} = PropTypes;\nPasswordRecoveryFormComponent.propTypes = {\n  rootClassName: string,\n  className: string,\n  formId: string,\n  inProgress: bool,\n  recoveryError: propTypes.error,\n  // from injectIntl\n  intl: intlShape.isRequired\n};\nconst PasswordRecoveryForm = compose(injectIntl)(PasswordRecoveryFormComponent);\nPasswordRecoveryForm.displayName = 'PasswordRecoveryForm';\nexport default PasswordRecoveryForm;","map":{"version":3,"sources":["D:/Amardeep/tarek_project/ftw-product/src/containers/PasswordRecoveryPage/PasswordRecoveryForm/PasswordRecoveryForm.js"],"names":["React","Component","PropTypes","compose","Form","FinalForm","isEqual","classNames","FormattedMessage","injectIntl","intlShape","propTypes","validators","isPasswordRecoveryEmailNotFoundError","PrimaryButton","FieldTextInput","NamedLink","css","PasswordRecoveryFormComponent","constructor","props","submittedValues","render","fieldRenderProps","rootClassName","className","formId","handleSubmit","pristine","initialValues","intl","inProgress","recoveryError","values","emailLabel","formatMessage","id","emailPlaceholder","emailRequiredMessage","emailNotFoundMessage","emailInvalidMessage","emailRequired","required","emailValid","emailFormatValid","customErrorText","initialEmail","email","emailTouched","classes","root","submitInProgress","submittedOnce","Object","keys","length","pristineSinceLastSubmit","submitDisabled","loginLink","modalHelperLink","e","composeValidators","bottomWrapper","bottomWrapperText","modalHelperText","defaultProps","bool","string","error","isRequired","PasswordRecoveryForm","displayName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport { Form as FinalForm } from 'react-final-form';\r\nimport isEqual from 'lodash/isEqual';\r\nimport classNames from 'classnames';\r\n\r\nimport { FormattedMessage, injectIntl, intlShape } from '../../../util/reactIntl';\r\nimport { propTypes } from '../../../util/types';\r\nimport * as validators from '../../../util/validators';\r\nimport { isPasswordRecoveryEmailNotFoundError } from '../../../util/errors';\r\n\r\nimport { Form, PrimaryButton, FieldTextInput, NamedLink } from '../../../components';\r\n\r\nimport css from './PasswordRecoveryForm.module.css';\r\n\r\nclass PasswordRecoveryFormComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.submittedValues = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <FinalForm\r\n        {...this.props}\r\n        render={fieldRenderProps => {\r\n          const {\r\n            rootClassName,\r\n            className,\r\n            formId,\r\n            handleSubmit,\r\n            pristine,\r\n            initialValues,\r\n            intl,\r\n            inProgress,\r\n            recoveryError,\r\n            values,\r\n          } = fieldRenderProps;\r\n\r\n          // email\r\n          const emailLabel = intl.formatMessage({\r\n            id: 'PasswordRecoveryForm.emailLabel',\r\n          });\r\n          const emailPlaceholder = intl.formatMessage({\r\n            id: 'PasswordRecoveryForm.emailPlaceholder',\r\n          });\r\n          const emailRequiredMessage = intl.formatMessage({\r\n            id: 'PasswordRecoveryForm.emailRequired',\r\n          });\r\n          const emailNotFoundMessage = intl.formatMessage({\r\n            id: 'PasswordRecoveryForm.emailNotFound',\r\n          });\r\n          const emailInvalidMessage = intl.formatMessage({\r\n            id: 'PasswordRecoveryForm.emailInvalid',\r\n          });\r\n\r\n          const emailRequired = validators.required(emailRequiredMessage);\r\n          const emailValid = validators.emailFormatValid(emailInvalidMessage);\r\n\r\n          // In case a given email is not found, pass a custom error message\r\n          // to be rendered with the input component\r\n          const customErrorText = isPasswordRecoveryEmailNotFoundError(recoveryError)\r\n            ? emailNotFoundMessage\r\n            : null;\r\n          const initialEmail = initialValues ? initialValues.email : null;\r\n          const emailTouched = values.email !== this.submittedValues.email;\r\n\r\n          const classes = classNames(rootClassName || css.root, className);\r\n          const submitInProgress = inProgress;\r\n          const submittedOnce = Object.keys(this.submittedValues).length > 0;\r\n          const pristineSinceLastSubmit = submittedOnce && isEqual(values, this.submittedValues);\r\n          const submitDisabled =\r\n            (pristine && !initialEmail) || submitInProgress || pristineSinceLastSubmit;\r\n\r\n          const loginLink = (\r\n            <NamedLink name=\"LoginPage\" className={css.modalHelperLink}>\r\n              <FormattedMessage id=\"PasswordRecoveryForm.loginLinkText\" />\r\n            </NamedLink>\r\n          );\r\n\r\n          return (\r\n            <Form\r\n              className={classes}\r\n              onSubmit={e => {\r\n                this.submittedValues = values;\r\n                handleSubmit(e);\r\n              }}\r\n            >\r\n              <FieldTextInput\r\n                className={css.email}\r\n                type=\"email\"\r\n                id={formId ? `${formId}.email` : 'email'}\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                label={emailLabel}\r\n                placeholder={emailPlaceholder}\r\n                validate={validators.composeValidators(emailRequired, emailValid)}\r\n                customErrorText={emailTouched ? null : customErrorText}\r\n              />\r\n\r\n              <div className={css.bottomWrapper}>\r\n                <p className={css.bottomWrapperText}>\r\n                  <span className={css.modalHelperText}>\r\n                    <FormattedMessage\r\n                      id=\"PasswordRecoveryForm.loginLinkInfo\"\r\n                      values={{ loginLink }}\r\n                    />\r\n                  </span>\r\n                </p>\r\n\r\n                <PrimaryButton\r\n                  type=\"submit\"\r\n                  inProgress={submitInProgress}\r\n                  disabled={submitDisabled}\r\n                >\r\n                  <FormattedMessage id=\"PasswordRecoveryForm.sendInstructions\" />\r\n                </PrimaryButton>\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPasswordRecoveryFormComponent.defaultProps = {\r\n  rootClassName: null,\r\n  className: null,\r\n  formId: null,\r\n  inProgress: false,\r\n  recoveryError: null,\r\n};\r\n\r\nconst { bool, string } = PropTypes;\r\n\r\nPasswordRecoveryFormComponent.propTypes = {\r\n  rootClassName: string,\r\n  className: string,\r\n  formId: string,\r\n\r\n  inProgress: bool,\r\n  recoveryError: propTypes.error,\r\n\r\n  // from injectIntl\r\n  intl: intlShape.isRequired,\r\n};\r\n\r\nconst PasswordRecoveryForm = compose(injectIntl)(PasswordRecoveryFormComponent);\r\nPasswordRecoveryForm.displayName = 'PasswordRecoveryForm';\r\n\r\nexport default PasswordRecoveryForm;\r\n"]},"metadata":{},"sourceType":"module"}