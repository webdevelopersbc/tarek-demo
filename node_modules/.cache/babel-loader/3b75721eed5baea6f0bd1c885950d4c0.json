{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amardeep\\\\tarek_project\\\\ftw-product\\\\src\\\\components\\\\UserCard\\\\UserCard.js\";\nimport React, { Component } from 'react';\nimport { string, func, oneOfType } from 'prop-types';\nimport { FormattedMessage } from '../../util/reactIntl';\nimport truncate from 'lodash/truncate';\nimport classNames from 'classnames';\nimport { AvatarLarge, NamedLink, InlineTextButton } from '../../components';\nimport { ensureUser, ensureCurrentUser } from '../../util/data';\nimport { propTypes } from '../../util/types';\nimport css from './UserCard.module.css'; // Approximated collapsed size so that there are ~three lines of text\n// in the desktop layout in the author section of the ListingPage.\n\nconst BIO_COLLAPSED_LENGTH = 170;\n\nconst truncated = s => {\n  return truncate(s, {\n    length: BIO_COLLAPSED_LENGTH,\n    // Allow truncated text end only in specific characters. This will\n    // make the truncated text shorter than the length if the original\n    // text has to be shortened and the substring ends in a separator.\n    //\n    // This ensures that the final text doesn't get cut in the middle\n    // of a word.\n    separator: /\\s|,|\\.|:|;/,\n    omission: '…'\n  });\n};\n\nclass ExpandableBio extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expand: false\n    };\n  }\n\n  render() {\n    const {\n      expand\n    } = this.state;\n    const {\n      className,\n      bio\n    } = this.props;\n    const truncatedBio = truncated(bio);\n\n    const handleShowMoreClick = () => {\n      this.setState({\n        expand: true\n      });\n    };\n\n    const showMore = /*#__PURE__*/React.createElement(InlineTextButton, {\n      rootClassName: css.showMore,\n      onClick: handleShowMoreClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"UserCard.showFullBioLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"p\", {\n      className: className,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, expand ? bio : truncatedBio, bio !== truncatedBio && !expand ? showMore : null);\n  }\n\n}\n\nExpandableBio.defaultProps = {\n  className: null\n};\nExpandableBio.propTypes = {\n  className: string,\n  bio: string.isRequired\n};\n\nconst UserCard = props => {\n  const {\n    rootClassName,\n    className,\n    user,\n    currentUser,\n    onContactUser\n  } = props;\n  const userIsCurrentUser = user && user.type === 'currentUser';\n  const ensuredUser = userIsCurrentUser ? ensureCurrentUser(user) : ensureUser(user);\n  const ensuredCurrentUser = ensureCurrentUser(currentUser);\n  const isCurrentUser = ensuredUser.id && ensuredCurrentUser.id && ensuredUser.id.uuid === ensuredCurrentUser.id.uuid;\n  const {\n    displayName,\n    bio\n  } = ensuredUser.attributes.profile;\n\n  const handleContactUserClick = () => {\n    onContactUser(user);\n  };\n\n  const hasBio = !!bio;\n  const classes = classNames(rootClassName || css.root, className);\n  const linkClasses = classNames(css.links, {\n    [css.withBioMissingAbove]: !hasBio\n  });\n  const separator = isCurrentUser ? null : /*#__PURE__*/React.createElement(\"span\", {\n    className: css.linkSeparator,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 44\n    }\n  }, \"\\u2022\");\n  const contact = /*#__PURE__*/React.createElement(InlineTextButton, {\n    rootClassName: css.contact,\n    onClick: handleContactUserClick,\n    enforcePagePreloadFor: \"SignupPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"UserCard.contactUser\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }));\n  const editProfileMobile = /*#__PURE__*/React.createElement(\"span\", {\n    className: css.editProfileMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: css.linkSeparator,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"\\u2022\"), /*#__PURE__*/React.createElement(NamedLink, {\n    name: \"ProfileSettingsPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ListingPage.editProfileLink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  })));\n  const editProfileDesktop = isCurrentUser ? /*#__PURE__*/React.createElement(NamedLink, {\n    className: css.editProfileDesktop,\n    name: \"ProfileSettingsPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ListingPage.editProfileLink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  })) : null;\n  const links = ensuredUser.id ? /*#__PURE__*/React.createElement(\"p\", {\n    className: linkClasses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NamedLink, {\n    className: css.link,\n    name: \"ProfilePage\",\n    params: {\n      id: ensuredUser.id.uuid\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"UserCard.viewProfileLink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  })), separator, isCurrentUser ? editProfileMobile : contact) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: css.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AvatarLarge, {\n    className: css.avatar,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: css.info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: css.headingRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: css.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"UserCard.heading\",\n    values: {\n      name: displayName\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  })), editProfileDesktop), hasBio ? /*#__PURE__*/React.createElement(ExpandableBio, {\n    className: css.desktopBio,\n    bio: bio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }) : null, links)), hasBio ? /*#__PURE__*/React.createElement(ExpandableBio, {\n    className: css.mobileBio,\n    bio: bio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }) : null);\n};\n\n_c = UserCard;\nUserCard.defaultProps = {\n  rootClassName: null,\n  className: null,\n  user: null,\n  currentUser: null\n};\nUserCard.propTypes = {\n  rootClassName: string,\n  className: string,\n  user: oneOfType([propTypes.user, propTypes.currentUser]),\n  currentUser: propTypes.currentUser,\n  onContactUser: func.isRequired\n};\nexport default UserCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserCard\");","map":{"version":3,"sources":["D:/Amardeep/tarek_project/ftw-product/src/components/UserCard/UserCard.js"],"names":["React","Component","string","func","oneOfType","FormattedMessage","truncate","classNames","AvatarLarge","NamedLink","InlineTextButton","ensureUser","ensureCurrentUser","propTypes","css","BIO_COLLAPSED_LENGTH","truncated","s","length","separator","omission","ExpandableBio","constructor","props","state","expand","render","className","bio","truncatedBio","handleShowMoreClick","setState","showMore","defaultProps","isRequired","UserCard","rootClassName","user","currentUser","onContactUser","userIsCurrentUser","type","ensuredUser","ensuredCurrentUser","isCurrentUser","id","uuid","displayName","attributes","profile","handleContactUserClick","hasBio","classes","root","linkClasses","links","withBioMissingAbove","linkSeparator","contact","editProfileMobile","editProfileDesktop","link","content","avatar","info","headingRow","heading","name","desktopBio","mobileBio"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { string, func, oneOfType } from 'prop-types';\r\nimport { FormattedMessage } from '../../util/reactIntl';\r\nimport truncate from 'lodash/truncate';\r\nimport classNames from 'classnames';\r\nimport { AvatarLarge, NamedLink, InlineTextButton } from '../../components';\r\nimport { ensureUser, ensureCurrentUser } from '../../util/data';\r\nimport { propTypes } from '../../util/types';\r\n\r\nimport css from './UserCard.module.css';\r\n\r\n// Approximated collapsed size so that there are ~three lines of text\r\n// in the desktop layout in the author section of the ListingPage.\r\nconst BIO_COLLAPSED_LENGTH = 170;\r\n\r\nconst truncated = s => {\r\n  return truncate(s, {\r\n    length: BIO_COLLAPSED_LENGTH,\r\n\r\n    // Allow truncated text end only in specific characters. This will\r\n    // make the truncated text shorter than the length if the original\r\n    // text has to be shortened and the substring ends in a separator.\r\n    //\r\n    // This ensures that the final text doesn't get cut in the middle\r\n    // of a word.\r\n    separator: /\\s|,|\\.|:|;/,\r\n    omission: '…',\r\n  });\r\n};\r\n\r\nclass ExpandableBio extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { expand: false };\r\n  }\r\n  render() {\r\n    const { expand } = this.state;\r\n    const { className, bio } = this.props;\r\n    const truncatedBio = truncated(bio);\r\n\r\n    const handleShowMoreClick = () => {\r\n      this.setState({ expand: true });\r\n    };\r\n    const showMore = (\r\n      <InlineTextButton rootClassName={css.showMore} onClick={handleShowMoreClick}>\r\n        <FormattedMessage id=\"UserCard.showFullBioLink\" />\r\n      </InlineTextButton>\r\n    );\r\n    return (\r\n      <p className={className}>\r\n        {expand ? bio : truncatedBio}\r\n        {bio !== truncatedBio && !expand ? showMore : null}\r\n      </p>\r\n    );\r\n  }\r\n}\r\n\r\nExpandableBio.defaultProps = { className: null };\r\n\r\nExpandableBio.propTypes = {\r\n  className: string,\r\n  bio: string.isRequired,\r\n};\r\n\r\nconst UserCard = props => {\r\n  const { rootClassName, className, user, currentUser, onContactUser } = props;\r\n\r\n  const userIsCurrentUser = user && user.type === 'currentUser';\r\n  const ensuredUser = userIsCurrentUser ? ensureCurrentUser(user) : ensureUser(user);\r\n\r\n  const ensuredCurrentUser = ensureCurrentUser(currentUser);\r\n  const isCurrentUser =\r\n    ensuredUser.id && ensuredCurrentUser.id && ensuredUser.id.uuid === ensuredCurrentUser.id.uuid;\r\n  const { displayName, bio } = ensuredUser.attributes.profile;\r\n\r\n  const handleContactUserClick = () => {\r\n    onContactUser(user);\r\n  };\r\n\r\n  const hasBio = !!bio;\r\n  const classes = classNames(rootClassName || css.root, className);\r\n  const linkClasses = classNames(css.links, {\r\n    [css.withBioMissingAbove]: !hasBio,\r\n  });\r\n\r\n  const separator = isCurrentUser ? null : <span className={css.linkSeparator}>•</span>;\r\n\r\n  const contact = (\r\n    <InlineTextButton\r\n      rootClassName={css.contact}\r\n      onClick={handleContactUserClick}\r\n      enforcePagePreloadFor=\"SignupPage\"\r\n    >\r\n      <FormattedMessage id=\"UserCard.contactUser\" />\r\n    </InlineTextButton>\r\n  );\r\n\r\n  const editProfileMobile = (\r\n    <span className={css.editProfileMobile}>\r\n      <span className={css.linkSeparator}>•</span>\r\n      <NamedLink name=\"ProfileSettingsPage\">\r\n        <FormattedMessage id=\"ListingPage.editProfileLink\" />\r\n      </NamedLink>\r\n    </span>\r\n  );\r\n\r\n  const editProfileDesktop = isCurrentUser ? (\r\n    <NamedLink className={css.editProfileDesktop} name=\"ProfileSettingsPage\">\r\n      <FormattedMessage id=\"ListingPage.editProfileLink\" />\r\n    </NamedLink>\r\n  ) : null;\r\n\r\n  const links = ensuredUser.id ? (\r\n    <p className={linkClasses}>\r\n      <NamedLink className={css.link} name=\"ProfilePage\" params={{ id: ensuredUser.id.uuid }}>\r\n        <FormattedMessage id=\"UserCard.viewProfileLink\" />\r\n      </NamedLink>\r\n      {separator}\r\n      {isCurrentUser ? editProfileMobile : contact}\r\n    </p>\r\n  ) : null;\r\n\r\n  return (\r\n    <div className={classes}>\r\n      <div className={css.content}>\r\n        <AvatarLarge className={css.avatar} user={user} />\r\n        <div className={css.info}>\r\n          <div className={css.headingRow}>\r\n            <h3 className={css.heading}>\r\n              <FormattedMessage id=\"UserCard.heading\" values={{ name: displayName }} />\r\n            </h3>\r\n            {editProfileDesktop}\r\n          </div>\r\n          {hasBio ? <ExpandableBio className={css.desktopBio} bio={bio} /> : null}\r\n          {links}\r\n        </div>\r\n      </div>\r\n      {hasBio ? <ExpandableBio className={css.mobileBio} bio={bio} /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nUserCard.defaultProps = {\r\n  rootClassName: null,\r\n  className: null,\r\n  user: null,\r\n  currentUser: null,\r\n};\r\n\r\nUserCard.propTypes = {\r\n  rootClassName: string,\r\n  className: string,\r\n  user: oneOfType([propTypes.user, propTypes.currentUser]),\r\n  currentUser: propTypes.currentUser,\r\n  onContactUser: func.isRequired,\r\n};\r\n\r\nexport default UserCard;\r\n"]},"metadata":{},"sourceType":"module"}