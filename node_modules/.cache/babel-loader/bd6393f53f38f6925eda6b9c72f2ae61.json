{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amardeep\\\\tarek_project\\\\ftw-product\\\\src\\\\containers\\\\TransactionPage\\\\SendMessageForm\\\\SendMessageForm.js\";\nimport React, { Component } from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { compose } from 'redux';\nimport { Form as FinalForm } from 'react-final-form';\nimport classNames from 'classnames';\nimport { FormattedMessage, injectIntl, intlShape } from '../../../util/reactIntl';\nimport { propTypes } from '../../../util/types';\nimport { Form, FieldTextInput, SecondaryButton } from '../../../components';\nimport css from './SendMessageForm.module.css';\nconst BLUR_TIMEOUT_MS = 100;\n\nconst IconSendMessage = () => {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    className: css.sendIcon,\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 14\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    className: css.strokeMatter,\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    strokeLinejoin: \"round\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.91 1L0 7.003l5.052 2.212z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.75 11.686L5.042 9.222l7.928-8.198z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.417 8.583v4.695l2.273-2.852\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  })));\n};\n\n_c = IconSendMessage;\n\nclass SendMessageFormComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.blurTimeoutId = null;\n  }\n\n  handleFocus() {\n    this.props.onFocus();\n    window.clearTimeout(this.blurTimeoutId);\n  }\n\n  handleBlur() {\n    // We only trigger a blur if another focus event doesn't come\n    // within a timeout. This enables keeping the focus synced when\n    // focus is switched between the message area and the submit\n    // button.\n    this.blurTimeoutId = window.setTimeout(() => {\n      this.props.onBlur();\n    }, BLUR_TIMEOUT_MS);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(FinalForm, Object.assign({}, this.props, {\n      render: formRenderProps => {\n        const {\n          rootClassName,\n          className,\n          messagePlaceholder,\n          handleSubmit,\n          inProgress,\n          sendMessageError,\n          invalid,\n          form,\n          formId\n        } = formRenderProps;\n        const classes = classNames(rootClassName || css.root, className);\n        const submitInProgress = inProgress;\n        const submitDisabled = invalid || submitInProgress;\n        return /*#__PURE__*/React.createElement(Form, {\n          className: classes,\n          onSubmit: values => handleSubmit(values, form),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(FieldTextInput, {\n          inputRootClass: css.textarea,\n          type: \"textarea\",\n          id: formId ? `${formId}.message` : 'message',\n          name: \"message\",\n          placeholder: messagePlaceholder,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: css.submitContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: css.errorContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }\n        }, sendMessageError ? /*#__PURE__*/React.createElement(\"p\", {\n          className: css.error,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"SendMessageForm.sendFailed\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 23\n          }\n        })) : null), /*#__PURE__*/React.createElement(SecondaryButton, {\n          rootClassName: css.submitButton,\n          inProgress: submitInProgress,\n          disabled: submitDisabled,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(IconSendMessage, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"SendMessageForm.sendMessage\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 19\n          }\n        }))));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nSendMessageFormComponent.defaultProps = {\n  rootClassName: null,\n  className: null,\n  inProgress: false,\n  messagePlaceholder: null,\n  onFocus: () => null,\n  onBlur: () => null,\n  sendMessageError: null\n};\nSendMessageFormComponent.propTypes = {\n  rootClassName: string,\n  className: string,\n  inProgress: bool,\n  messagePlaceholder: string,\n  onSubmit: func.isRequired,\n  onFocus: func,\n  onBlur: func,\n  sendMessageError: propTypes.error,\n  // from injectIntl\n  intl: intlShape.isRequired\n};\nconst SendMessageForm = compose(injectIntl)(SendMessageFormComponent);\nSendMessageForm.displayName = 'SendMessageForm';\nexport default SendMessageForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"IconSendMessage\");","map":{"version":3,"sources":["D:/Amardeep/tarek_project/ftw-product/src/containers/TransactionPage/SendMessageForm/SendMessageForm.js"],"names":["React","Component","string","bool","func","compose","Form","FinalForm","classNames","FormattedMessage","injectIntl","intlShape","propTypes","FieldTextInput","SecondaryButton","css","BLUR_TIMEOUT_MS","IconSendMessage","sendIcon","strokeMatter","SendMessageFormComponent","constructor","props","handleFocus","bind","handleBlur","blurTimeoutId","onFocus","window","clearTimeout","setTimeout","onBlur","render","formRenderProps","rootClassName","className","messagePlaceholder","handleSubmit","inProgress","sendMessageError","invalid","form","formId","classes","root","submitInProgress","submitDisabled","values","textarea","submitContainer","errorContainer","error","submitButton","defaultProps","onSubmit","isRequired","intl","SendMessageForm","displayName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { string, bool, func } from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport { Form as FinalForm } from 'react-final-form';\r\nimport classNames from 'classnames';\r\n\r\nimport { FormattedMessage, injectIntl, intlShape } from '../../../util/reactIntl';\r\nimport { propTypes } from '../../../util/types';\r\n\r\nimport { Form, FieldTextInput, SecondaryButton } from '../../../components';\r\n\r\nimport css from './SendMessageForm.module.css';\r\n\r\nconst BLUR_TIMEOUT_MS = 100;\r\n\r\nconst IconSendMessage = () => {\r\n  return (\r\n    <svg\r\n      className={css.sendIcon}\r\n      width=\"14\"\r\n      height=\"14\"\r\n      viewBox=\"0 0 14 14\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <g className={css.strokeMatter} fill=\"none\" fillRule=\"evenodd\" strokeLinejoin=\"round\">\r\n        <path d=\"M12.91 1L0 7.003l5.052 2.212z\" />\r\n        <path d=\"M10.75 11.686L5.042 9.222l7.928-8.198z\" />\r\n        <path d=\"M5.417 8.583v4.695l2.273-2.852\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nclass SendMessageFormComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.blurTimeoutId = null;\r\n  }\r\n\r\n  handleFocus() {\r\n    this.props.onFocus();\r\n    window.clearTimeout(this.blurTimeoutId);\r\n  }\r\n\r\n  handleBlur() {\r\n    // We only trigger a blur if another focus event doesn't come\r\n    // within a timeout. This enables keeping the focus synced when\r\n    // focus is switched between the message area and the submit\r\n    // button.\r\n    this.blurTimeoutId = window.setTimeout(() => {\r\n      this.props.onBlur();\r\n    }, BLUR_TIMEOUT_MS);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <FinalForm\r\n        {...this.props}\r\n        render={formRenderProps => {\r\n          const {\r\n            rootClassName,\r\n            className,\r\n            messagePlaceholder,\r\n            handleSubmit,\r\n            inProgress,\r\n            sendMessageError,\r\n            invalid,\r\n            form,\r\n            formId,\r\n          } = formRenderProps;\r\n\r\n          const classes = classNames(rootClassName || css.root, className);\r\n          const submitInProgress = inProgress;\r\n          const submitDisabled = invalid || submitInProgress;\r\n          return (\r\n            <Form className={classes} onSubmit={values => handleSubmit(values, form)}>\r\n              <FieldTextInput\r\n                inputRootClass={css.textarea}\r\n                type=\"textarea\"\r\n                id={formId ? `${formId}.message` : 'message'}\r\n                name=\"message\"\r\n                placeholder={messagePlaceholder}\r\n                onFocus={this.handleFocus}\r\n                onBlur={this.handleBlur}\r\n              />\r\n              <div className={css.submitContainer}>\r\n                <div className={css.errorContainer}>\r\n                  {sendMessageError ? (\r\n                    <p className={css.error}>\r\n                      <FormattedMessage id=\"SendMessageForm.sendFailed\" />\r\n                    </p>\r\n                  ) : null}\r\n                </div>\r\n                <SecondaryButton\r\n                  rootClassName={css.submitButton}\r\n                  inProgress={submitInProgress}\r\n                  disabled={submitDisabled}\r\n                  onFocus={this.handleFocus}\r\n                  onBlur={this.handleBlur}\r\n                >\r\n                  <IconSendMessage />\r\n                  <FormattedMessage id=\"SendMessageForm.sendMessage\" />\r\n                </SecondaryButton>\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nSendMessageFormComponent.defaultProps = {\r\n  rootClassName: null,\r\n  className: null,\r\n  inProgress: false,\r\n  messagePlaceholder: null,\r\n  onFocus: () => null,\r\n  onBlur: () => null,\r\n  sendMessageError: null,\r\n};\r\n\r\nSendMessageFormComponent.propTypes = {\r\n  rootClassName: string,\r\n  className: string,\r\n  inProgress: bool,\r\n\r\n  messagePlaceholder: string,\r\n  onSubmit: func.isRequired,\r\n  onFocus: func,\r\n  onBlur: func,\r\n  sendMessageError: propTypes.error,\r\n\r\n  // from injectIntl\r\n  intl: intlShape.isRequired,\r\n};\r\n\r\nconst SendMessageForm = compose(injectIntl)(SendMessageFormComponent);\r\n\r\nSendMessageForm.displayName = 'SendMessageForm';\r\n\r\nexport default SendMessageForm;\r\n"]},"metadata":{},"sourceType":"module"}