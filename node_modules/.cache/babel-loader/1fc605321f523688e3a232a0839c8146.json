{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amardeep\\\\tarek_project\\\\ftw-product\\\\src\\\\containers\\\\SearchPage\\\\BookingDateRangeFilter\\\\BookingDateRangeFilter.example.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { stringify, parse } from '../../../util/urlHelpers';\nimport { parseDateFromISO8601, stringifyDateToISO8601 } from '../../../util/dates';\nimport BookingDateRangeFilter from './BookingDateRangeFilter';\nconst URL_PARAM = 'dates';\n\nconst handleSubmit = (urlParam, values, history) => {\n  const hasDates = values && values.dates;\n  const {\n    startDate,\n    endDate\n  } = hasDates ? values.dates : {};\n  const start = startDate ? stringifyDateToISO8601(startDate) : null;\n  const end = endDate ? stringifyDateToISO8601(endDate) : null;\n  const queryParams = start != null && end != null ? `?${stringify({\n    [urlParam]: [start, end].join(',')\n  })}` : '';\n  history.push(`${window.location.pathname}${queryParams}`);\n};\n\nconst BookingDateRangeFilterWrapper = withRouter(_c = props => {\n  const {\n    history,\n    location\n  } = props;\n  const params = parse(location.search);\n  const dates = params[URL_PARAM];\n  const rawValuesFromParams = !!dates ? dates.split(',') : [];\n  const valuesFromParams = rawValuesFromParams.map(v => parseDateFromISO8601(v));\n  const initialValues = !!dates && valuesFromParams.length === 2 ? {\n    dates: {\n      startDate: valuesFromParams[0],\n      endDate: valuesFromParams[1]\n    }\n  } : {\n    dates: null\n  };\n  return /*#__PURE__*/React.createElement(BookingDateRangeFilter, Object.assign({}, props, {\n    initialValues: initialValues,\n    onSubmit: (urlParam, values) => {\n      console.log('Submit BookingDateRangeFilter with (unformatted) values:', values);\n      handleSubmit(urlParam, values, history);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }));\n});\n_c2 = BookingDateRangeFilterWrapper;\nexport const BookingDateRangeFilterPopup = {\n  component: BookingDateRangeFilterWrapper,\n  props: {\n    id: 'BookingDateRangeFilterPopupExample',\n    queryParamNames: [URL_PARAM],\n    liveEdit: false,\n    showAsPopup: true,\n    contentPlacementOffset: -14 // initialValues: handled inside wrapper\n    // onSubmit: handled inside wrapper\n\n  },\n  group: 'page:SearchPage'\n};\nexport const BookingDateRangeFilterPlain = {\n  component: BookingDateRangeFilterWrapper,\n  props: {\n    id: 'BookingDateRangeFilterPlainExample',\n    queryParamNames: [URL_PARAM],\n    liveEdit: true,\n    showAsPopup: false,\n    contentPlacementOffset: -14 // initialValues: handled inside wrapper\n    // onSubmit: handled inside wrapper\n\n  },\n  group: 'page:SearchPage'\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BookingDateRangeFilterWrapper$withRouter\");\n$RefreshReg$(_c2, \"BookingDateRangeFilterWrapper\");","map":{"version":3,"sources":["D:/Amardeep/tarek_project/ftw-product/src/containers/SearchPage/BookingDateRangeFilter/BookingDateRangeFilter.example.js"],"names":["React","withRouter","stringify","parse","parseDateFromISO8601","stringifyDateToISO8601","BookingDateRangeFilter","URL_PARAM","handleSubmit","urlParam","values","history","hasDates","dates","startDate","endDate","start","end","queryParams","join","push","window","location","pathname","BookingDateRangeFilterWrapper","props","params","search","rawValuesFromParams","split","valuesFromParams","map","v","initialValues","length","console","log","BookingDateRangeFilterPopup","component","id","queryParamNames","liveEdit","showAsPopup","contentPlacementOffset","group","BookingDateRangeFilterPlain"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { stringify, parse } from '../../../util/urlHelpers';\r\nimport { parseDateFromISO8601, stringifyDateToISO8601 } from '../../../util/dates';\r\nimport BookingDateRangeFilter from './BookingDateRangeFilter';\r\n\r\nconst URL_PARAM = 'dates';\r\n\r\nconst handleSubmit = (urlParam, values, history) => {\r\n  const hasDates = values && values.dates;\r\n  const { startDate, endDate } = hasDates ? values.dates : {};\r\n\r\n  const start = startDate ? stringifyDateToISO8601(startDate) : null;\r\n  const end = endDate ? stringifyDateToISO8601(endDate) : null;\r\n\r\n  const queryParams =\r\n    start != null && end != null ? `?${stringify({ [urlParam]: [start, end].join(',') })}` : '';\r\n  history.push(`${window.location.pathname}${queryParams}`);\r\n};\r\n\r\nconst BookingDateRangeFilterWrapper = withRouter(props => {\r\n  const { history, location } = props;\r\n\r\n  const params = parse(location.search);\r\n  const dates = params[URL_PARAM];\r\n  const rawValuesFromParams = !!dates ? dates.split(',') : [];\r\n  const valuesFromParams = rawValuesFromParams.map(v => parseDateFromISO8601(v));\r\n  const initialValues =\r\n    !!dates && valuesFromParams.length === 2\r\n      ? {\r\n          dates: { startDate: valuesFromParams[0], endDate: valuesFromParams[1] },\r\n        }\r\n      : { dates: null };\r\n\r\n  return (\r\n    <BookingDateRangeFilter\r\n      {...props}\r\n      initialValues={initialValues}\r\n      onSubmit={(urlParam, values) => {\r\n        console.log('Submit BookingDateRangeFilter with (unformatted) values:', values);\r\n        handleSubmit(urlParam, values, history);\r\n      }}\r\n    />\r\n  );\r\n});\r\n\r\nexport const BookingDateRangeFilterPopup = {\r\n  component: BookingDateRangeFilterWrapper,\r\n  props: {\r\n    id: 'BookingDateRangeFilterPopupExample',\r\n    queryParamNames: [URL_PARAM],\r\n    liveEdit: false,\r\n    showAsPopup: true,\r\n    contentPlacementOffset: -14,\r\n    // initialValues: handled inside wrapper\r\n    // onSubmit: handled inside wrapper\r\n  },\r\n  group: 'page:SearchPage',\r\n};\r\n\r\nexport const BookingDateRangeFilterPlain = {\r\n  component: BookingDateRangeFilterWrapper,\r\n  props: {\r\n    id: 'BookingDateRangeFilterPlainExample',\r\n    queryParamNames: [URL_PARAM],\r\n    liveEdit: true,\r\n    showAsPopup: false,\r\n    contentPlacementOffset: -14,\r\n    // initialValues: handled inside wrapper\r\n    // onSubmit: handled inside wrapper\r\n  },\r\n  group: 'page:SearchPage',\r\n};\r\n"]},"metadata":{},"sourceType":"module"}