{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amardeep\\\\tarek_project\\\\ftw-product\\\\src\\\\components\\\\RangeSlider\\\\Handle.js\";\nimport React, { Component } from 'react';\nimport { func, number, string } from 'prop-types';\nimport classNames from 'classnames';\nimport css from './Handle.module.css';\n\nclass Handle extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dragging: false,\n      relativePos: null\n    };\n    this.handleRef = /*#__PURE__*/React.createRef();\n    this._isMounted = false;\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchMove = this.onTouchMove.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n    this.onStart = this.onStart.bind(this);\n    this.onMove = this.onMove.bind(this);\n    this.onEnd = this.onEnd.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.onMouseMoveListener = window.addEventListener('mousemove', this.onMouseMove, false);\n    this.onMouseUpListener = window.addEventListener('mouseup', this.onMouseUp, false);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    window.removeEventListener('mousemove', this.onMouseMoveListener, false);\n    window.removeEventListener('mouseup', this.onMouseUpListener, false);\n  }\n\n  onMouseDown(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    this.onStart(e.pageX);\n  }\n\n  onMouseMove(e) {\n    if (!this.state.dragging) return;\n    this.onMove(e.pageX);\n  }\n\n  onMouseUp(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    this.onEnd();\n  }\n\n  onTouchStart(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    const touchpageX = e.touches[0].pageX;\n    this.onStart(touchpageX);\n  }\n\n  onTouchMove(e) {\n    if (!this.state.dragging) return;\n    this.onMove(e.touches[0].pageX);\n  }\n\n  onTouchEnd(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    this.onEnd();\n  }\n\n  onStart(pagePosition) {\n    const {\n      offsetLeft,\n      offsetWidth\n    } = this.handleRef.current;\n    this.setState({\n      dragging: true,\n      relativePos: pagePosition - offsetLeft - offsetWidth / 2\n    });\n    this.props.changeActive();\n  }\n\n  onMove(pagePosition) {\n    const {\n      min,\n      max,\n      positionToValue\n    } = this.props;\n    const position = pagePosition - this.state.relativePos;\n    const currentValue = positionToValue(position);\n    const value = currentValue < min ? min : currentValue > max ? max : currentValue;\n    this.props.onChange(value);\n  }\n\n  onEnd() {\n    // Ensuring that setState doesn't get called.\n    // This a strange behaviour since window.removeEventListener is called in componentWillUnmount\n    if (this._isMounted) {\n      this.setState({\n        dragging: false\n      });\n    }\n  }\n\n  render() {\n    const {\n      rootClassName,\n      className,\n      value,\n      valueToPosition\n    } = this.props;\n    const position = valueToPosition(value);\n    const classes = classNames(rootClassName || css.rootTouchBuffer, className);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes,\n      ref: this.handleRef,\n      style: {\n        left: `${position}px`\n      },\n      onMouseDown: this.onMouseDown,\n      onMouseMove: this.onMouseMove,\n      onMouseUp: this.onMouseUp,\n      onTouchStart: this.onTouchStart,\n      onTouchMove: this.onTouchMove,\n      onTouchEnd: this.onTouchEnd,\n      role: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(css.visibleHandle, {\n        [css.dragged]: this.state.dragging\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nHandle.defaultProps = {\n  rootClassName: null,\n  className: null\n};\nHandle.propTypes = {\n  rootClassName: string,\n  className: string,\n  min: number.isRequired,\n  max: number.isRequired,\n  valueToPosition: func.isRequired,\n  positionToValue: func.isRequired\n};\nexport default Handle;","map":{"version":3,"sources":["D:/Amardeep/tarek_project/ftw-product/src/components/RangeSlider/Handle.js"],"names":["React","Component","func","number","string","classNames","css","Handle","constructor","props","state","dragging","relativePos","handleRef","createRef","_isMounted","onMouseDown","bind","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onStart","onMove","onEnd","componentDidMount","onMouseMoveListener","window","addEventListener","onMouseUpListener","componentWillUnmount","removeEventListener","e","stopPropagation","preventDefault","pageX","touchpageX","touches","pagePosition","offsetLeft","offsetWidth","current","setState","changeActive","min","max","positionToValue","position","currentValue","value","onChange","render","rootClassName","className","valueToPosition","classes","rootTouchBuffer","left","visibleHandle","dragged","defaultProps","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { func, number, string } from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport css from './Handle.module.css';\r\n\r\nclass Handle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { dragging: false, relativePos: null };\r\n\r\n    this.handleRef = React.createRef();\r\n    this._isMounted = false;\r\n\r\n    this.onMouseDown = this.onMouseDown.bind(this);\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseUp = this.onMouseUp.bind(this);\r\n    this.onTouchStart = this.onTouchStart.bind(this);\r\n    this.onTouchMove = this.onTouchMove.bind(this);\r\n    this.onTouchEnd = this.onTouchEnd.bind(this);\r\n\r\n    this.onStart = this.onStart.bind(this);\r\n    this.onMove = this.onMove.bind(this);\r\n    this.onEnd = this.onEnd.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    this.onMouseMoveListener = window.addEventListener('mousemove', this.onMouseMove, false);\r\n    this.onMouseUpListener = window.addEventListener('mouseup', this.onMouseUp, false);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n    window.removeEventListener('mousemove', this.onMouseMoveListener, false);\r\n    window.removeEventListener('mouseup', this.onMouseUpListener, false);\r\n  }\r\n\r\n  onMouseDown(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    this.onStart(e.pageX);\r\n  }\r\n  onMouseMove(e) {\r\n    if (!this.state.dragging) return;\r\n\r\n    this.onMove(e.pageX);\r\n  }\r\n  onMouseUp(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    this.onEnd();\r\n  }\r\n\r\n  onTouchStart(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    const touchpageX = e.touches[0].pageX;\r\n    this.onStart(touchpageX);\r\n  }\r\n  onTouchMove(e) {\r\n    if (!this.state.dragging) return;\r\n\r\n    this.onMove(e.touches[0].pageX);\r\n  }\r\n  onTouchEnd(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    this.onEnd();\r\n  }\r\n\r\n  onStart(pagePosition) {\r\n    const { offsetLeft, offsetWidth } = this.handleRef.current;\r\n    this.setState({ dragging: true, relativePos: pagePosition - offsetLeft - offsetWidth / 2 });\r\n    this.props.changeActive();\r\n  }\r\n  onMove(pagePosition) {\r\n    const { min, max, positionToValue } = this.props;\r\n    const position = pagePosition - this.state.relativePos;\r\n    const currentValue = positionToValue(position);\r\n\r\n    const value = currentValue < min ? min : currentValue > max ? max : currentValue;\r\n\r\n    this.props.onChange(value);\r\n  }\r\n  onEnd() {\r\n    // Ensuring that setState doesn't get called.\r\n    // This a strange behaviour since window.removeEventListener is called in componentWillUnmount\r\n    if (this._isMounted) {\r\n      this.setState({ dragging: false });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { rootClassName, className, value, valueToPosition } = this.props;\r\n    const position = valueToPosition(value);\r\n    const classes = classNames(rootClassName || css.rootTouchBuffer, className);\r\n\r\n    return (\r\n      <div\r\n        className={classes}\r\n        ref={this.handleRef}\r\n        style={{ left: `${position}px` }}\r\n        onMouseDown={this.onMouseDown}\r\n        onMouseMove={this.onMouseMove}\r\n        onMouseUp={this.onMouseUp}\r\n        onTouchStart={this.onTouchStart}\r\n        onTouchMove={this.onTouchMove}\r\n        onTouchEnd={this.onTouchEnd}\r\n        role=\"button\"\r\n      >\r\n        <div\r\n          className={classNames(css.visibleHandle, {\r\n            [css.dragged]: this.state.dragging,\r\n          })}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHandle.defaultProps = {\r\n  rootClassName: null,\r\n  className: null,\r\n};\r\n\r\nHandle.propTypes = {\r\n  rootClassName: string,\r\n  className: string,\r\n  min: number.isRequired,\r\n  max: number.isRequired,\r\n  valueToPosition: func.isRequired,\r\n  positionToValue: func.isRequired,\r\n};\r\n\r\nexport default Handle;\r\n"]},"metadata":{},"sourceType":"module"}