{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar MultiTouch = function () {\n  function MultiTouch() {\n    _classCallCheck(this, MultiTouch);\n\n    this.state = {\n      panStart: {\n        x: 0,\n        y: 0\n      },\n      scale: 1\n    };\n    this.touchStart = this.touchStart.bind(this);\n    this.touchMove = this.touchMove.bind(this);\n  }\n\n  _createClass(MultiTouch, [{\n    key: 'touchStart',\n    value: function touchStart(event) {\n      if (event.touches.length !== 2) return;\n      event.stopImmediatePropagation();\n      event.preventDefault();\n      var x = 0;\n      var y = 0;\n      [].forEach.call(event.touches, function (touch) {\n        x += touch.screenX;\n        y += touch.screenY;\n      });\n      this.state.panStart.x = x / event.touches.length;\n      this.state.panStart.y = y / event.touches.length;\n    }\n  }, {\n    key: 'touchMove',\n    value: function touchMove(event) {\n      if (event.touches.length !== 2) return;\n\n      if (this.state.scale === event.scale) {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n      }\n\n      this.state.scale = event.scale;\n      var x = 0;\n      var y = 0;\n      [].forEach.call(event.touches, function (touch) {\n        x += touch.screenX;\n        y += touch.screenY;\n      });\n      var movex = x / event.touches.length - this.state.panStart.x;\n      var movey = y / event.touches.length - this.state.panStart.y;\n      this.state.panStart.x = x / event.touches.length;\n      this.state.panStart.y = y / event.touches.length;\n      this.map.panBy([movex / -1, movey / -1], {\n        animate: false\n      });\n    }\n  }, {\n    key: 'onAdd',\n    value: function onAdd(map) {\n      this.map = map;\n      this.container = document.createElement('div');\n      this.map.getContainer().addEventListener('touchstart', this.touchStart, false);\n      this.map.getContainer().addEventListener('touchmove', this.touchMove, false);\n      if ('ontouchstart' in document.documentElement) map.dragPan.disable();\n      return this.container;\n    }\n  }, {\n    key: 'onRemove',\n    value: function onRemove() {\n      this.map.getContainer().removeEventListener('touchstart', this.touchStart);\n      this.map.getContainer().removeEventListener('touchmove', this.touchMove);\n      this.map = undefined;\n    }\n  }]);\n\n  return MultiTouch;\n}();\n\nexports.default = MultiTouch;","map":{"version":3,"sources":["D:/Amardeep/tarek_project/ftw-product/node_modules/mapbox-gl-multitouch/dist/main.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","MultiTouch","state","panStart","x","y","scale","touchStart","bind","touchMove","event","touches","stopImmediatePropagation","preventDefault","forEach","call","touch","screenX","screenY","movex","movey","map","panBy","animate","onAdd","container","document","createElement","getContainer","addEventListener","documentElement","dragPan","disable","onRemove","removeEventListener","undefined","default"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MultiTouch = function () {\n  function MultiTouch() {\n    _classCallCheck(this, MultiTouch);\n\n    this.state = {\n      panStart: { x: 0, y: 0 },\n      scale: 1\n    };\n    this.touchStart = this.touchStart.bind(this);\n    this.touchMove = this.touchMove.bind(this);\n  }\n\n  _createClass(MultiTouch, [{\n    key: 'touchStart',\n    value: function touchStart(event) {\n      if (event.touches.length !== 2) return;\n      event.stopImmediatePropagation();\n      event.preventDefault();\n\n      var x = 0;\n      var y = 0;\n\n      [].forEach.call(event.touches, function (touch) {\n        x += touch.screenX;\n        y += touch.screenY;\n      });\n\n      this.state.panStart.x = x / event.touches.length;\n      this.state.panStart.y = y / event.touches.length;\n    }\n  }, {\n    key: 'touchMove',\n    value: function touchMove(event) {\n      if (event.touches.length !== 2) return;\n      if (this.state.scale === event.scale) {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n      }\n\n      this.state.scale = event.scale;\n\n      var x = 0;\n      var y = 0;\n\n      [].forEach.call(event.touches, function (touch) {\n        x += touch.screenX;\n        y += touch.screenY;\n      });\n\n      var movex = x / event.touches.length - this.state.panStart.x;\n      var movey = y / event.touches.length - this.state.panStart.y;\n\n      this.state.panStart.x = x / event.touches.length;\n      this.state.panStart.y = y / event.touches.length;\n      this.map.panBy([movex / -1, movey / -1], { animate: false });\n    }\n  }, {\n    key: 'onAdd',\n    value: function onAdd(map) {\n      this.map = map;\n      this.container = document.createElement('div');\n      this.map.getContainer().addEventListener('touchstart', this.touchStart, false);\n      this.map.getContainer().addEventListener('touchmove', this.touchMove, false);\n      if ('ontouchstart' in document.documentElement) map.dragPan.disable();\n      return this.container;\n    }\n  }, {\n    key: 'onRemove',\n    value: function onRemove() {\n      this.map.getContainer().removeEventListener('touchstart', this.touchStart);\n      this.map.getContainer().removeEventListener('touchmove', this.touchMove);\n      this.map = undefined;\n    }\n  }]);\n\n  return MultiTouch;\n}();\n\nexports.default = MultiTouch;"]},"metadata":{},"sourceType":"script"}